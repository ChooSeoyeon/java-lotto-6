# 기능 구현 목록 - 로또

## 📘 프로그램 설명

### 개요
- 입력한 금액만큼 로또를 자동 구매해, 랜덤으로 발행된 로또 번호들을 확인하고
- 입력한 당첨번호와 구매된 로또 번호들을 비교해 수익률을 계산해보는 프로그램이다.

### 용어 정의

- 발행 : 숫자를 입력받거나 랜덤으로 숫자를 뽑아, 6개의 숫자로 이루어진 로또를 발행하는 것을 말한다.
- 당첨 :  당첨 번호와 로또 번호를 비교했을 때 일치하는 숫자가 3개 이상일 시 당첨됐다고 말한다.
- 판매 : 판매자가 구매 요청을 받으면 로또를 발행해 구매자에게 전달해준다.
- 구매 : 구매자가 로또를 구매하면, 로또가 발행된다.

# 부록

### 지난 코드리뷰에서 배운 것 적용하기

- 일급 컬렉션은 본인이 감싸고 있는 콜렉션을 반환해도 된다. 단, 원본이 변경되지 않게 주의한다.
- 뷰에서 처리할 예외와 모델에서 처리할 예외를 구분할 기준을 정해야 한다.
- 테스트가 어려울 때 코드를 바꾸는 기준을 정해야 한다.
- 모델을 DTO로 매핑하는 작업은 DTO에서 하는 게 낫다
- YAGNI에 입각해 오버킬 유무를 결정하면 좋다 (with 전략패턴)
- Application은 객체가 아니기에 역할을 부여하면 안된다
- 절차지향을 무조건 지양할 필욘 없다

위 원리들과 관련해 세부적인 내용은 별도 포스트에 상세히 정리해두었습니다.

링크 : (과제 업로드 시 올릴 예정)

### 스토리텔링식으로 설계해 협력/책임/역할 정하기

- 이야기 : 모자장수가 로또를 사고 당첨 결과를 얻음
    - 로또 판매를 시작하는 일요일,  로또 가게에 `로또 발행 기계`, `판매원`, `모자 장수`, `로또 당첨 계산 어플`이 있음
        - `판매원`이 모자 장수에게 “얼마어치 구매할 건가요?” 라고 물어봄
            - `모자 장수`가 판매원에게 “로또 8000원어치 구매요~”라고 말함
        - `판매원`이 “8장 구매”라고 로또 발행 기계에 입력함
            - `로또 발행 기계`가 판매원에게 로또 8장을 종이에 출력해줌
        - `판매원`이 “발행된 로또 번호를 어플에 등록해두고 당첨 계산 편히 하세요~”라고 모자장수에게 권고함
            - `모자 장수`가 출력된 로또 종이를 가져가서 `로또 당첨 계산 어플`에 본인의 로또 번호를 입력함
                - `로또 당첨 계산 어플`이 모자 장수의 로또 번호들을 저장함
    - 일주일이 지나 로또 판매를 마친 토요일, 로또 발표 현장에 `왕`, `로또 당첨 계산 어플`이 있음
        - `왕`이 “이번주 당첨 번호는 1,2,5,26,35,42+17 로 결정”이라고 로또 당첨 계산 어플에 입력함
            - `로또 당첨 계산 어플`이 왕의 당첨 번호를 입력받음
    - 다음날 일요일, 모자 장수의 집에 `모자 장수`, `로또 당첨 계산 어플`이 있음
        - `모자 장수`가 “당첨 통계 계산” 버튼을 클릭함
            - `로또 당첨 계산 어플`이 당첨 통계를 출력함
- 협력 : 요청과 응답
    - 누군가가 `판매원`에게 판매를 시작하라고 요청함으로써 로또 판매가 시작됨
    - 로또 가게
        - `판매원`이 모자 장수에게 구매 개수를 말할 것을 요청함
            - `모자 장수`가 구매 개수를 말함으로써 판매원의 요청에 응답함
        - `판매원`이 로또 발행 기계에게 개수만큼 로또를 발행할 것을 요청함
            - `로또 발행 기계`가 로또를 발행함으로써 판매원의 요청에 응답함
        - `판매원`이 모자 장수에게 발행된 로또를 가져가서 당첨 계산 어플에 등록해두라고 요청함
            - `모자 장수`가 발행된 로또를 가져가서 당첨 계산 어플에 등록함으로써 판매원의 요청에 응답함
                - `로또 당첨 계산 어플`이 모자 장수의 로또 번호들을 저장함으로써 모자 장수의 요청에 응답함. 이는 판매원이 모자 장수에게 했던 요청에 대한 응답이기도 함
    - 로또 발표 현장
        - `왕`이 로또 당첨 계산 어플에게 결정한 당첨 번호를 저장할 것을 요청함
            - `로또 당첨 계산 어플`이 당첨 번호를 저장함으로써 왕의 요청에 응답함
    - 모자 장수의 집
        - `모자 장수`가 로또 당첨 계산 어플에게 당첨 통계를 계산할 것을 요청함
            - `로또 당첨 계산 어플`이 당첨 통계를 계산해 출력함으로써 모자 장수의 요청에 응답함
- 책임 : 하는 것(요청, 계산)과 아는 것
    - `판매원`
        - 하는 것 : 모자 장수에게 구매할 로또 개수 말하도록 요청, 로또 발행 기계에게 로또 발행하도록 요청, 모자 장수에게 발행한 로또 가져가서 알림 어플에 등록하도록 요청
    - `로또 발행 기계`
        - 하는 것 : 로또 번호를 자동으로 뽑아 로또 발행
        - 아는 것 :  발행된 로또
    - `모자 장수`
        - 하는 것 : 로또 당첨 계산 어플에게 로또 번호들 저장하도록 요청, 로또 당첨 계산 어플에게 당첨 통계 계산하도록 요청
        - 아는 것 : 구매할 로또 개수, 발행된 로또
    - `왕`
        - 하는 것 : 로또 당첨 계산 어플에게 당첨 번호 저장하도록 요청
        - 아는 것 : 당첨 번호
    - `로또 당첨 계산 어플`
        - 하는 것 : 모자 장수가 구매한 로또들과 당첨 번호 비교해 당첨 통계를 계산
        - 아는 것 : 모자 장수의 로또, 당첨 번호, 당첨 결정 전략
- 역할 : 책임의 집합 (재사용성)
    - 판매원 → `로또 판매자` (`LottoSeller`)
    - 모자 장수 → `로또 구매자` (`LottoBuyer`)
    - 로또 발행 기계 → `로또 발행기` (`LottoIssuer`)
        - 로또 종이 → `로또` (`Lotto`)
    - 왕 + 로또 당첨 계산 어플 → `로또 당첨 결과 분석기` (`LottoWinningAnalyzer`)
        - 당첨 번호 → `당첨 번호` (`WinningNumbers`)